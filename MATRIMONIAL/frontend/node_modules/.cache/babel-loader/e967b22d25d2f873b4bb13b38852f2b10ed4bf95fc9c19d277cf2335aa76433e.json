{"ast":null,"code":"// frontend/src/utils/cookieManager.js\n\n/**\r\n * Utility functions for managing cookies and cookie consent\r\n */\n\n// Set a cookie with a given name, value and options\nexport const setCookie = (name, value, options = {}) => {\n  const defaults = {\n    path: '/',\n    secure: process.env.NODE_ENV === 'production',\n    sameSite: 'strict'\n  };\n  const cookieOptions = {\n    ...defaults,\n    ...options\n  };\n  let cookieString = `${encodeURIComponent(name)}=${encodeURIComponent(value)}`;\n  if (cookieOptions.expires) {\n    if (typeof cookieOptions.expires === 'number') {\n      const days = cookieOptions.expires;\n      const date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      cookieOptions.expires = date;\n    }\n    cookieString += `;expires=${cookieOptions.expires.toUTCString()}`;\n  }\n  if (cookieOptions.path) cookieString += `;path=${cookieOptions.path}`;\n  if (cookieOptions.domain) cookieString += `;domain=${cookieOptions.domain}`;\n  if (cookieOptions.secure) cookieString += ';secure';\n  if (cookieOptions.sameSite) cookieString += `;sameSite=${cookieOptions.sameSite}`;\n  document.cookie = cookieString;\n};\n\n// Get a cookie value by name\nexport const getCookie = name => {\n  const match = document.cookie.match(new RegExp(`(^|;\\\\s*)(${name})=([^;]*)`));\n  return match ? decodeURIComponent(match[3]) : null;\n};\n\n// Delete a cookie by name\nexport const deleteCookie = (name, options = {}) => {\n  const defaults = {\n    path: '/'\n  };\n  const cookieOptions = {\n    ...defaults,\n    ...options,\n    expires: new Date(0)\n  };\n  setCookie(name, '', cookieOptions);\n};\n\n// Enable or disable Google Analytics based on user preference\nexport const setupGoogleAnalytics = (allowed = false) => {\n  if (allowed) {\n    // Enable Google Analytics\n    window['ga-disable-UA-XXXXX-Y'] = false;\n\n    // Initialize GA if not already initialized\n    if (!window.gtag) {\n      // Load Google Analytics script\n      const script = document.createElement('script');\n      script.async = true;\n      script.src = `https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-Y`;\n      document.head.appendChild(script);\n      window.dataLayer = window.dataLayer || [];\n      function gtag() {\n        window.dataLayer.push(arguments);\n      }\n      window.gtag = gtag;\n      gtag('js', new Date());\n      gtag('config', 'UA-XXXXX-Y');\n    }\n  } else {\n    // Disable Google Analytics\n    window['ga-disable-UA-XXXXX-Y'] = true;\n  }\n};\n\n// Enable or disable Facebook pixel based on user preference\nexport const setupFacebookPixel = (allowed = false) => {\n  if (allowed) {\n    // Enable Facebook Pixel\n    if (!window.fbq) {\n      // Load Facebook Pixel script\n      const script = document.createElement('script');\n      script.innerHTML = `\n          !function(f,b,e,v,n,t,s)\n          {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n          n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n          if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n          n.queue=[];t=b.createElement(e);t.async=!0;\n          t.src=v;s=b.getElementsByTagName(e)[0];\n          s.parentNode.insertBefore(t,s)}(window, document,'script',\n          'https://connect.facebook.net/en_US/fbevents.js');\n          fbq('init', 'XXXXXXXXXXXXXXX');\n          fbq('track', 'PageView');\n        `;\n      document.head.appendChild(script);\n    }\n  } else {\n    // Disable Facebook Pixel\n    if (window.fbq) {\n      window.fbq = undefined;\n    }\n  }\n};\n\n// Process cookie settings based on user choices\nexport const applyConsent = (preferences = {}) => {\n  const {\n    analytics = false,\n    functional = false,\n    advertising = false\n  } = preferences;\n\n  // Always set essential cookies\n\n  // Set analytics cookies if allowed\n  setupGoogleAnalytics(analytics);\n\n  // Set functional cookies if allowed\n  if (functional) {\n    // Example: Store user preferences like language, theme\n    setCookie('user_preferences', JSON.stringify({\n      language: 'en',\n      theme: 'light'\n    }), {\n      expires: 365\n    });\n  } else {\n    deleteCookie('user_preferences');\n  }\n\n  // Set advertising cookies if allowed\n  setupFacebookPixel(advertising);\n\n  // Store consent in local storage for reference\n  localStorage.setItem('cookie-consent-details', JSON.stringify({\n    preferences,\n    timestamp: new Date().toISOString()\n  }));\n};","map":{"version":3,"names":["setCookie","name","value","options","defaults","path","secure","process","env","NODE_ENV","sameSite","cookieOptions","cookieString","encodeURIComponent","expires","days","date","Date","setTime","getTime","toUTCString","domain","document","cookie","getCookie","match","RegExp","decodeURIComponent","deleteCookie","setupGoogleAnalytics","allowed","window","gtag","script","createElement","async","src","head","appendChild","dataLayer","push","arguments","setupFacebookPixel","fbq","innerHTML","undefined","applyConsent","preferences","analytics","functional","advertising","JSON","stringify","language","theme","localStorage","setItem","timestamp","toISOString"],"sources":["C:/Users/tiyas/OneDrive/Desktop/MATRIMONIAL/MATRIMONIAL/frontend/src/utils/cookieManager.js"],"sourcesContent":["// frontend/src/utils/cookieManager.js\r\n\r\n/**\r\n * Utility functions for managing cookies and cookie consent\r\n */\r\n\r\n// Set a cookie with a given name, value and options\r\nexport const setCookie = (name, value, options = {}) => {\r\n    const defaults = {\r\n      path: '/',\r\n      secure: process.env.NODE_ENV === 'production',\r\n      sameSite: 'strict'\r\n    };\r\n    \r\n    const cookieOptions = { ...defaults, ...options };\r\n    let cookieString = `${encodeURIComponent(name)}=${encodeURIComponent(value)}`;\r\n    \r\n    if (cookieOptions.expires) {\r\n      if (typeof cookieOptions.expires === 'number') {\r\n        const days = cookieOptions.expires;\r\n        const date = new Date();\r\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n        cookieOptions.expires = date;\r\n      }\r\n      cookieString += `;expires=${cookieOptions.expires.toUTCString()}`;\r\n    }\r\n    \r\n    if (cookieOptions.path) cookieString += `;path=${cookieOptions.path}`;\r\n    if (cookieOptions.domain) cookieString += `;domain=${cookieOptions.domain}`;\r\n    if (cookieOptions.secure) cookieString += ';secure';\r\n    if (cookieOptions.sameSite) cookieString += `;sameSite=${cookieOptions.sameSite}`;\r\n    \r\n    document.cookie = cookieString;\r\n  };\r\n  \r\n  // Get a cookie value by name\r\n  export const getCookie = (name) => {\r\n    const match = document.cookie.match(new RegExp(`(^|;\\\\s*)(${name})=([^;]*)`));\r\n    return match ? decodeURIComponent(match[3]) : null;\r\n  };\r\n  \r\n  // Delete a cookie by name\r\n  export const deleteCookie = (name, options = {}) => {\r\n    const defaults = { path: '/' };\r\n    const cookieOptions = { ...defaults, ...options, expires: new Date(0) };\r\n    setCookie(name, '', cookieOptions);\r\n  };\r\n  \r\n  // Enable or disable Google Analytics based on user preference\r\n  export const setupGoogleAnalytics = (allowed = false) => {\r\n    if (allowed) {\r\n      // Enable Google Analytics\r\n      window['ga-disable-UA-XXXXX-Y'] = false;\r\n      \r\n      // Initialize GA if not already initialized\r\n      if (!window.gtag) {\r\n        // Load Google Analytics script\r\n        const script = document.createElement('script');\r\n        script.async = true;\r\n        script.src = `https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-Y`;\r\n        document.head.appendChild(script);\r\n        \r\n        window.dataLayer = window.dataLayer || [];\r\n        function gtag() { window.dataLayer.push(arguments); }\r\n        window.gtag = gtag;\r\n        gtag('js', new Date());\r\n        gtag('config', 'UA-XXXXX-Y');\r\n      }\r\n    } else {\r\n      // Disable Google Analytics\r\n      window['ga-disable-UA-XXXXX-Y'] = true;\r\n    }\r\n  };\r\n  \r\n  // Enable or disable Facebook pixel based on user preference\r\n  export const setupFacebookPixel = (allowed = false) => {\r\n    if (allowed) {\r\n      // Enable Facebook Pixel\r\n      if (!window.fbq) {\r\n        // Load Facebook Pixel script\r\n        const script = document.createElement('script');\r\n        script.innerHTML = `\r\n          !function(f,b,e,v,n,t,s)\r\n          {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\r\n          n.callMethod.apply(n,arguments):n.queue.push(arguments)};\r\n          if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\r\n          n.queue=[];t=b.createElement(e);t.async=!0;\r\n          t.src=v;s=b.getElementsByTagName(e)[0];\r\n          s.parentNode.insertBefore(t,s)}(window, document,'script',\r\n          'https://connect.facebook.net/en_US/fbevents.js');\r\n          fbq('init', 'XXXXXXXXXXXXXXX');\r\n          fbq('track', 'PageView');\r\n        `;\r\n        document.head.appendChild(script);\r\n      }\r\n    } else {\r\n      // Disable Facebook Pixel\r\n      if (window.fbq) {\r\n        window.fbq = undefined;\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Process cookie settings based on user choices\r\n  export const applyConsent = (preferences = {}) => {\r\n    const { analytics = false, functional = false, advertising = false } = preferences;\r\n    \r\n    // Always set essential cookies\r\n    \r\n    // Set analytics cookies if allowed\r\n    setupGoogleAnalytics(analytics);\r\n    \r\n    // Set functional cookies if allowed\r\n    if (functional) {\r\n      // Example: Store user preferences like language, theme\r\n      setCookie('user_preferences', JSON.stringify({ \r\n        language: 'en',\r\n        theme: 'light'\r\n      }), { expires: 365 });\r\n    } else {\r\n      deleteCookie('user_preferences');\r\n    }\r\n    \r\n    // Set advertising cookies if allowed\r\n    setupFacebookPixel(advertising);\r\n    \r\n    // Store consent in local storage for reference\r\n    localStorage.setItem('cookie-consent-details', JSON.stringify({\r\n      preferences,\r\n      timestamp: new Date().toISOString()\r\n    }));\r\n  };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}